# Log-X Negative Value Handling Update Summary

## 问题解决
用户指出了代码重复的问题：相同的log-x负值处理逻辑在两个地方重复编写。

## 解决方案
1. **创建静态共享函数** `_plot_cut_data_with_log_handling()`
   - 处理log-x模式下负值坐标的共享逻辑
   - 支持参数化的marker size和line width
   - 作为静态方法，可被多个地方调用

2. **重构主绘图方法** `_plot_cut_result()`
   - 移除重复的绘图逻辑
   - 调用共享函数进行绘制
   - 保持原有功能不变

3. **重构独立窗口方法** `update_plot()`
   - 移除重复的绘图逻辑
   - 调用同样的共享函数
   - 确保两个窗口显示一致

## 功能特性
### Log-X模式下的负值处理
- **正值坐标**: 蓝色实线 (bo-) 标记为 "Positive coordinates"
- **负值坐标**: 红色虚线 (ro--) 取绝对值，标记为 "Negative coordinates (|x|)"
- **零值坐标**: 绿色三角 (go^) 近似显示，标记为 "Zero coordinates (approximated)"

### 图例显示
- 自动添加legend显示不同类型的数据点
- 字体大小根据marker size自适应
- 位置自动选择最佳位置 (loc='best')

### 同步更新
- 主界面和独立窗口使用相同的绘图逻辑
- 确保显示效果完全一致
- 实时同步所有设置变化

## 代码优化
1. **消除重复**: 将重复的60+行代码合并为一个共享函数
2. **提高维护性**: 修改绘图逻辑只需要在一个地方进行
3. **保持一致性**: 两个显示窗口使用相同逻辑，避免不一致
4. **参数化设计**: 支持不同的marker大小和线宽设置

## 使用方法
1. 在Fitting页面执行Cut操作
2. 当启用Log-X模式时，负值坐标自动以虚线显示
3. 双击fitGraphicsView打开独立窗口，显示效果相同
4. 图例自动显示不同类型数据的说明

## 技术细节
- 静态方法避免了复杂的实例引用
- numpy数组操作确保高效的数据处理
- matplotlib标准化的颜色和线型选择
- 错误处理保证绘图过程的稳定性
